<div class="arena">

  <!-- Main area for game -->
  <div class="row">

    <!-- Left pane -->
    <div class="col-3">
      <ul class="list-group list-group-horizontal">

        <li class="list-group-item borderless">
          <button type="button" class="btn btn-info" (click)="rollDice()" [disabled]="getUserGameState().turnCompleted">
            <span *ngIf="!gameGroup.gameFinished && !getUserGameState().turnCompleted">Flip coin!</span>
            <span *ngIf="!gameGroup.gameFinished && getUserGameState().turnCompleted">Waiting for other players <i class="fas fa-spinner fa-pulse"></i></span>
            <span *ngIf="gameGroup.gameFinished">Game Finished <i class="far fa-smile-wink"></i></span>
          </button>
        </li>

        <li class="list-group-item">
          <button type="button" class="btn btn-info" (click)="endTurn()" [disabled]="getUserGameState().turnCompleted">
            <span>End Turn</span>
          </button>
        </li>

        <li class="list-group-item">
          <!-- Dice(s) or Coin(s) -->
          <div *ngFor="let dice of playerDiceSet; let i = index">
            <app-dice [dice]=dice></app-dice>
          </div>
        </li>

        <li class="list-group-item">
          <button type="button" class="btn btn-info" (click)="resetGame()" [disabled]="!gameGroup.gameFinished">Reset ðŸ˜Ž</button>
        </li>

        <li class="list-group-item">
          <span>Current round: {{gameGroup.currentRound}}</span>
        </li>
      </ul>
    </div>

    <!-- Right pane -->
    <div class="col">

      <!-- Main wrapper for players -->
      <div *ngIf='gameGroup && getGameStates()'>
        <div class="row users" *ngFor="let gameState of getGameStates()">
          
          <!-- Player icon -->
          <div class="col person">
            <div class="user">
              <img [src]="userPhotoSrcUrl(gameState.user)">
              <span [ngClass]="userOnline(gameState.user)?'status online':'status offline'" ></span><!--online, busy, offline, away-->
            </div>      
            <p class="name-time">
              <span class="name">{{gameState.user.name}}</span>
            </p>
          </div>
      
          <!-- Progress bar -->
          <div class="col-6 pt-4">
            <div class="progress">
              <div 
                class="progress-bar progress-bar-striped progress-bar-animated" 
                role="progressbar"
                [ngStyle]="{'width': gameState.progress * 10 + '%'}"
                [ngClass]="{'bg-success' : gameState.progress >= 10}">
              </div>
            </div>
          </div>
      
          <!-- Win indicator -->
          <div class="col">
            <div class="pt-4" *ngIf="gameState.progress >= 10">
              <i class="fas fa-child" style="color: green; font-size: 2rem;"></i>
            </div>  
          </div>
        </div>
        
      </div><!-- End of Main wrapper -->
    </div>

  </div><!-- End of Main area for game -->

</div>